- if user_signed_in?
  %li.dropdown
    %a.dropdown-toggle{"data-toggle"=>"dropdown","role"=>"button","aria-haspopup"=>"true", "aria-expanded"=>"false" }
      = current_user.name
      .caret
    %ul.dropdown-menu
      %li
        = link_to ('<i class="fa fa-fw fa-database"></i>'+'  数据').html_safe, visited_path
      %li
        = link_to ('<i class="fa fa-fw fa-cloud-upload"></i>'+'  上传').html_safe, upload_path
      %li
        = link_to ('<i class="fa fa-fw fa-sign-out"></i>'+"  注销").html_safe, signout_path
- else
  - if defined? as_button
    %button.btn.btn-default.dropdown-toggle{"type"=>"button", "data-toggle"=>"dropdown","role"=>"button","aria-haspopup"=>"true", "aria-expanded"=>"false" }
      登录
      .caret
    %ul.dropdown-menu
      %li
        = link_to ('<i class="fa fa-fw fa-github-alt"></i>'+'通过Github').html_safe, "#{root_path}/auth/github"
      %li
        = link_to ('<i class="fa fa-fw fa-weibo"></i>'+'通过Weibo').html_safe, "#{root_path}/auth/weibo"
  - else
    %li.dropdown
      %a.dropdown-toggle{"data-toggle"=>"dropdown","role"=>"button","aria-haspopup"=>"true", "aria-expanded"=>"false" }
        登录
        .caret
      %ul.dropdown-menu
        %li
          = link_to ('<i class="fa fa-fw fa-github-alt"></i>'+'通过Github').html_safe, "#{root_path}/auth/github"
        %li
          = link_to ('<i class="fa fa-fw fa-weibo"></i>'+'通过Weibo').html_safe, "#{root_path}/auth/weibo"
